"""Initial migration

Revision ID: db0f0766be83
Revises: 90e04577c810
Create Date: 2024-08-16 22:59:32.506075

"""
from typing import Sequence, Union

from alembic import op
import sqlalchemy as sa
from sqlalchemy.dialects import postgresql

# revision identifiers, used by Alembic.
revision: str = 'db0f0766be83'
down_revision: Union[str, None] = '90e04577c810'
branch_labels: Union[str, Sequence[str], None] = None
depends_on: Union[str, Sequence[str], None] = None


def upgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_table('global_events_p_2024_08_13t14_00_00')
    op.drop_table('global_events_p_2024_08_16t13_00_00')
    op.drop_table('global_events_p_2024_08_16t23_00_00')
    op.drop_table('global_events_p_2024_08_15t15_00_00')
    op.drop_table('global_events_p_2024_08_16t08_00_00')
    op.drop_table('global_events_p_2024_08_13t23_00_00')
    op.drop_table('global_events_p_2024_08_11t11_00_00')
    op.drop_table('global_events_p_2024_08_15t21_00_00')
    op.drop_table('global_events_p_2024_08_16t01_00_00')
    op.drop_table('global_events_p_2024_08_15t01_00_00')
    op.drop_table('global_events_p_2024_08_16t18_00_00')
    op.drop_table('global_events_p_2024_08_14t20_00_00')
    op.drop_table('global_events_p_2024_08_14t11_00_00')
    op.drop_table('global_events_p_2024_08_15t06_00_00')
    op.drop_table('global_events_p_2024_08_15t17_00_00')
    op.drop_table('global_events_p_2024_08_15t11_00_00')
    op.drop_table('global_events_p_2024_08_12t02_00_00')
    op.drop_table('global_events_p_2024_08_10t05_00_00')
    op.drop_table('global_events_p_2024_08_14t06_00_00')
    op.drop_table('global_events_p_2024_08_10t09_00_00')
    op.drop_table('global_events_p_2024_08_15t07_00_00')
    op.drop_table('global_events_p_2024_08_10t23_00_00')
    op.drop_table('global_events_p_2024_08_12t23_00_00')
    op.drop_table('global_events_p_2024_08_11t03_00_00')
    op.drop_table('global_events_p_2024_08_10t17_00_00')
    op.drop_table('global_events_p_2024_08_14t04_00_00')
    op.drop_table('global_events_p_2024_08_12t20_00_00')
    op.drop_table('global_events_p_2024_08_10t18_00_00')
    op.drop_table('global_events_p_2024_08_13t03_00_00')
    op.drop_table('global_events_p_2024_08_12t21_00_00')
    op.drop_table('global_events_p_2024_08_16t12_00_00')
    op.drop_table('global_events_p_2024_08_13t09_00_00')
    op.drop_table('global_events_p_2024_08_13t06_00_00')
    op.drop_table('global_events_p_2024_08_13t15_00_00')
    op.drop_table('global_events_p_2024_08_14t01_00_00')
    op.drop_table('global_events_p_2024_08_10t04_00_00')
    op.drop_table('global_events_p_2024_08_16t06_00_00')
    op.drop_table('global_events_p_2024_08_13t16_00_00')
    op.drop_table('global_events_p_2024_08_10t06_00_00')
    op.drop_table('global_events_p_2024_08_15t23_00_00')
    op.drop_table('global_events_p_2024_08_16t11_00_00')
    op.drop_table('global_events_p_2024_08_16t19_00_00')
    op.drop_table('global_events_p_2024_08_16t21_00_00')
    op.drop_table('global_events_p_2024_08_15t03_00_00')
    op.drop_table('global_events_p_2024_08_13t02_00_00')
    op.drop_table('global_events_p_2024_08_11t19_00_00')
    op.drop_table('global_events_p_2024_08_13t20_00_00')
    op.drop_table('global_events_p_2024_08_10t16_00_00')
    op.drop_table('global_events_p_2024_08_13t00_00_00')
    op.drop_table('global_events_p_2024_08_14t18_00_00')
    op.drop_table('global_events_p_2024_08_10t13_00_00')
    op.drop_table('global_events_p_2024_08_13t12_00_00')
    op.drop_table('global_events_p_2024_08_10t20_00_00')
    op.drop_table('global_events_p_2024_08_14t19_00_00')
    op.drop_table('global_events_p_2024_08_12t01_00_00')
    op.drop_table('global_events_p_2024_08_14t07_00_00')
    op.drop_table('global_events_p_2024_08_16t16_00_00')
    op.drop_table('global_events_p_2024_08_15t10_00_00')
    op.drop_table('global_events_p_2024_08_14t13_00_00')
    op.drop_table('global_events_p_2024_08_11t15_00_00')
    op.drop_table('global_events_p_2024_08_13t11_00_00')
    op.drop_table('global_events_p_2024_08_13t01_00_00')
    op.drop_table('global_events_p_2024_08_11t08_00_00')
    op.drop_table('global_events_p_2024_08_12t07_00_00')
    op.drop_table('global_events_p_2024_08_10t08_00_00')
    op.drop_table('global_events_p_2024_08_16t07_00_00')
    op.drop_table('global_events_p_2024_08_11t01_00_00')
    op.drop_table('global_events_p_2024_08_12t19_00_00')
    op.drop_table('global_events_p_2024_08_16t09_00_00')
    op.drop_table('global_events_p_2024_08_12t11_00_00')
    op.drop_table('global_events_p_2024_08_10t22_00_00')
    op.drop_table('global_events_p_2024_08_13t19_00_00')
    op.drop_table('global_events_p_2024_08_11t16_00_00')
    op.drop_table('global_events_p_2024_08_16t04_00_00')
    op.drop_table('global_events_p_2024_08_10t10_00_00')
    op.drop_table('global_events_p_2024_08_12t08_00_00')
    op.drop_table('global_events_p_2024_08_13t05_00_00')
    op.drop_table('global_events_p_2024_08_10t03_00_00')
    op.drop_table('global_events_p_2024_08_11t13_00_00')
    op.drop_table('global_events_p_2024_08_15t09_00_00')
    op.drop_table('global_events_p_2024_08_13t08_00_00')
    op.drop_table('global_events_p_2024_08_16t00_00_00')
    op.drop_table('global_events_p_2024_08_12t14_00_00')
    op.drop_table('global_events_p_2024_08_15t20_00_00')
    op.drop_table('global_events_p_2024_08_14t14_00_00')
    op.drop_table('global_events_p_2024_08_12t04_00_00')
    op.drop_table('global_events_p_2024_08_12t05_00_00')
    op.drop_table('global_events_p_2024_08_13t07_00_00')
    op.drop_table('global_events_p_2024_08_14t08_00_00')
    op.drop_table('global_events_p_2024_08_11t06_00_00')
    op.drop_table('global_events_p_2024_08_11t21_00_00')
    op.drop_table('global_events_p_2024_08_16t02_00_00')
    op.drop_table('global_events_p_2024_08_16t22_00_00')
    op.drop_table('global_events_p_2024_08_11t09_00_00')
    op.drop_table('global_events_p_2024_08_10t11_00_00')
    op.drop_table('global_events_p_2024_08_15t12_00_00')
    op.drop_table('global_events_p_2024_08_15t00_00_00')
    op.drop_table('global_events_p_2024_08_11t22_00_00')
    op.drop_table('global_events_p_2024_08_13t21_00_00')
    op.drop_table('global_events_p_2024_08_12t10_00_00')
    op.drop_table('global_events_p_2024_08_14t12_00_00')
    op.drop_table('global_events_p_2024_08_10t01_00_00')
    op.drop_table('global_events_p_2024_08_11t17_00_00')
    op.drop_table('global_events_p_2024_08_13t18_00_00')
    op.drop_table('global_events_p_2024_08_16t05_00_00')
    op.drop_table('global_events_p_2024_08_16t15_00_00')
    op.drop_table('global_events_p_2024_08_15t16_00_00')
    op.drop_table('global_events_p_2024_08_12t03_00_00')
    op.drop_table('global_events_p_2024_08_12t17_00_00')
    op.drop_table('global_events_p_2024_08_14t05_00_00')
    op.drop_table('global_events_p_2024_08_13t04_00_00')
    op.drop_table('global_events_p_2024_08_14t22_00_00')
    op.drop_table('global_events_p_2024_08_10t12_00_00')
    op.drop_table('global_events_p_2024_08_13t22_00_00')
    op.drop_table('global_events_p_2024_08_13t17_00_00')
    op.drop_table('global_events_p_2024_08_15t02_00_00')
    op.drop_table('global_events_p_2024_08_12t15_00_00')
    op.drop_table('global_events_p_2024_08_16t10_00_00')
    op.drop_table('global_events_p_2024_08_14t17_00_00')
    op.drop_table('global_events_p_2024_08_14t09_00_00')
    op.drop_table('global_events_p_2024_08_15t22_00_00')
    op.drop_table('global_events_p_2024_08_10t07_00_00')
    op.drop_table('global_events_p_2024_08_13t10_00_00')
    op.drop_table('global_events_p_2024_08_14t10_00_00')
    op.drop_table('global_events_p_2024_08_11t04_00_00')
    op.drop_table('global_events_p_2024_08_14t00_00_00')
    op.drop_table('global_events_p_2024_08_10t15_00_00')
    op.drop_table('global_events_p_2024_08_12t18_00_00')
    op.drop_table('global_events_p_2024_08_10t21_00_00')
    op.drop_table('global_events_p_2024_08_15t08_00_00')
    op.drop_table('global_events_p_2024_08_14t03_00_00')
    op.drop_table('global_events_p_2024_08_11t20_00_00')
    op.drop_table('global_events_p_2024_08_14t15_00_00')
    op.drop_table('global_events_p_2024_08_11t05_00_00')
    op.drop_table('global_events_p_2024_08_14t16_00_00')
    op.drop_table('global_events_p_2024_08_14t23_00_00')
    op.drop_table('global_events_p_2024_08_15t13_00_00')
    op.drop_table('global_events_p_2024_08_11t02_00_00')
    op.drop_table('global_events_p_2024_08_12t12_00_00')
    op.drop_table('global_events_p_2024_08_11t23_00_00')
    op.drop_table('global_events_p_2024_08_11t00_00_00')
    op.drop_table('global_events_p_2024_08_12t13_00_00')
    op.drop_table('global_events_p_2024_08_15t19_00_00')
    op.drop_table('global_events_p_2024_08_16t14_00_00')
    op.drop_table('global_events_p_2024_08_16t20_00_00')
    op.drop_table('global_events_p_2024_08_15t18_00_00')
    op.drop_table('global_events_p_2024_08_11t14_00_00')
    op.drop_table('global_events_p_2024_08_10t19_00_00')
    op.drop_table('global_events_p_2024_08_15t04_00_00')
    op.drop_table('global_events_p_2024_08_15t14_00_00')
    op.drop_table('global_events_p_2024_08_11t10_00_00')
    op.drop_table('global_events_p_2024_08_10t02_00_00')
    op.drop_table('global_events_p_2024_08_12t22_00_00')
    op.drop_table('global_events_p_2024_08_14t02_00_00')
    op.drop_table('global_events_p_2024_08_11t18_00_00')
    op.drop_table('global_events_p_2024_08_10t14_00_00')
    op.drop_table('global_events_p_2024_08_12t09_00_00')
    op.drop_table('global_events_p_2024_08_16t17_00_00')
    op.drop_table('global_events_p_2024_08_16t03_00_00')
    op.drop_table('shops_p_2024_08_16')
    op.drop_table('global_events_p_2024_08_12t16_00_00')
    op.drop_table('global_events_p_2024_08_11t07_00_00')
    op.drop_table('global_events_p_2024_08_12t00_00_00')
    op.drop_table('global_events_p_2024_08_13t13_00_00')
    op.drop_table('global_events_p_2024_08_15t05_00_00')
    op.drop_table('global_events_p_2024_08_12t06_00_00')
    op.drop_table('global_events_p_2024_08_11t12_00_00')
    op.drop_table('global_events_p_2024_08_10t00_00_00')
    op.drop_table('global_events_p_2024_08_14t21_00_00')
    op.drop_constraint('shops_shop_owner_id_partition_key_fkey', 'shops', type_='foreignkey')
    # ### end Alembic commands ###


def downgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_foreign_key('shops_shop_owner_id_partition_key_fkey', 'shops', 'users', ['shop_owner_id', 'partition_key'], ['id', 'partition_key'])
    op.create_table('global_events_p_2024_08_14t21_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_14t21_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_10t00_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_10t00_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_11t12_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_11t12_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_12t06_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_12t06_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_15t05_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_15t05_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_13t13_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_13t13_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_12t00_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_12t00_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_11t07_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_11t07_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_12t16_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_12t16_00_00_pkey')
    )
    op.create_table('shops_p_2024_08_16',
    sa.Column('id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('shop_owner_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('shop_name', sa.VARCHAR(length=255), autoincrement=False, nullable=False),
    sa.Column('status', sa.BOOLEAN(), autoincrement=False, nullable=False),
    sa.Column('created_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('deactivated_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=True),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.ForeignKeyConstraint(['shop_owner_id', 'partition_key'], ['users.id', 'users.partition_key'], name='shops_shop_owner_id_partition_key_fkey'),
    sa.PrimaryKeyConstraint('id', 'partition_key', name='shops_p_2024_08_16_pkey')
    )
    op.create_table('global_events_p_2024_08_16t03_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_16t03_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_16t17_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_16t17_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_12t09_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_12t09_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_10t14_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_10t14_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_11t18_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_11t18_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_14t02_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_14t02_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_12t22_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_12t22_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_10t02_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_10t02_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_11t10_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_11t10_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_15t14_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_15t14_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_15t04_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_15t04_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_10t19_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_10t19_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_11t14_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_11t14_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_15t18_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_15t18_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_16t20_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_16t20_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_16t14_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_16t14_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_15t19_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_15t19_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_12t13_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_12t13_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_11t00_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_11t00_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_11t23_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_11t23_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_12t12_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_12t12_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_11t02_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_11t02_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_15t13_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_15t13_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_14t23_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_14t23_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_14t16_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_14t16_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_11t05_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_11t05_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_14t15_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_14t15_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_11t20_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_11t20_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_14t03_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_14t03_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_15t08_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_15t08_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_10t21_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_10t21_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_12t18_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_12t18_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_10t15_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_10t15_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_14t00_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_14t00_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_11t04_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_11t04_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_14t10_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_14t10_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_13t10_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_13t10_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_10t07_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_10t07_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_15t22_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_15t22_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_14t09_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_14t09_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_14t17_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_14t17_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_16t10_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_16t10_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_12t15_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_12t15_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_15t02_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_15t02_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_13t17_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_13t17_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_13t22_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_13t22_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_10t12_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_10t12_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_14t22_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_14t22_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_13t04_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_13t04_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_14t05_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_14t05_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_12t17_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_12t17_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_12t03_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_12t03_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_15t16_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_15t16_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_16t15_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_16t15_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_16t05_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_16t05_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_13t18_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_13t18_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_11t17_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_11t17_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_10t01_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_10t01_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_14t12_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_14t12_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_12t10_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_12t10_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_13t21_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_13t21_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_11t22_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_11t22_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_15t00_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_15t00_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_15t12_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_15t12_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_10t11_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_10t11_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_11t09_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_11t09_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_16t22_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_16t22_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_16t02_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_16t02_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_11t21_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_11t21_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_11t06_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_11t06_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_14t08_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_14t08_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_13t07_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_13t07_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_12t05_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_12t05_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_12t04_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_12t04_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_14t14_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_14t14_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_15t20_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_15t20_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_12t14_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_12t14_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_16t00_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_16t00_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_13t08_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_13t08_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_15t09_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_15t09_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_11t13_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_11t13_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_10t03_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_10t03_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_13t05_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_13t05_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_12t08_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_12t08_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_10t10_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_10t10_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_16t04_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_16t04_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_11t16_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_11t16_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_13t19_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_13t19_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_10t22_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_10t22_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_12t11_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_12t11_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_16t09_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_16t09_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_12t19_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_12t19_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_11t01_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_11t01_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_16t07_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_16t07_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_10t08_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_10t08_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_12t07_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_12t07_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_11t08_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_11t08_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_13t01_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_13t01_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_13t11_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_13t11_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_11t15_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_11t15_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_14t13_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_14t13_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_15t10_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_15t10_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_16t16_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_16t16_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_14t07_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_14t07_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_12t01_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_12t01_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_14t19_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_14t19_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_10t20_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_10t20_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_13t12_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_13t12_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_10t13_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_10t13_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_14t18_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_14t18_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_13t00_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_13t00_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_10t16_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_10t16_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_13t20_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_13t20_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_11t19_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_11t19_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_13t02_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_13t02_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_15t03_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_15t03_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_16t21_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_16t21_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_16t19_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_16t19_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_16t11_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_16t11_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_15t23_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_15t23_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_10t06_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_10t06_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_13t16_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_13t16_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_16t06_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_16t06_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_10t04_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_10t04_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_14t01_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_14t01_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_13t15_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_13t15_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_13t06_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_13t06_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_13t09_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_13t09_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_16t12_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_16t12_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_12t21_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_12t21_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_13t03_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_13t03_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_10t18_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_10t18_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_12t20_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_12t20_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_14t04_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_14t04_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_10t17_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_10t17_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_11t03_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_11t03_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_12t23_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_12t23_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_10t23_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_10t23_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_15t07_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_15t07_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_10t09_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_10t09_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_14t06_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_14t06_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_10t05_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_10t05_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_12t02_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_12t02_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_15t11_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_15t11_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_15t17_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_15t17_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_15t06_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_15t06_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_14t11_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_14t11_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_14t20_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_14t20_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_16t18_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_16t18_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_15t01_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_15t01_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_16t01_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_16t01_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_15t21_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_15t21_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_11t11_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_11t11_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_13t23_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_13t23_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_16t08_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_16t08_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_15t15_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_15t15_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_16t23_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_16t23_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_16t13_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_16t13_00_00_pkey')
    )
    op.create_table('global_events_p_2024_08_13t14_00_00',
    sa.Column('event_id', sa.UUID(), autoincrement=False, nullable=False),
    sa.Column('event_time', postgresql.TIMESTAMP(timezone=True), autoincrement=False, nullable=False),
    sa.Column('event_type', postgresql.ENUM('user_account_creation', 'user_delete_account', 'user_shop_create', 'user_shop_delete', 'user_deactivate_account', name='eventtype'), autoincrement=False, nullable=False),
    sa.Column('event_metadata', postgresql.JSON(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.Column('partition_key', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('event_id', 'partition_key', name='global_events_p_2024_08_13t14_00_00_pkey')
    )
    # ### end Alembic commands ###
